<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bokeh Plot</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.3.4.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.3.4.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="d01bd4ce-7623-44bd-b894-91d5d3236db7" data-root-id="p2653" style="display: contents;"></div>
  
    <script type="application/json" id="p2658">
      {"1291b690-94fc-409b-84fe-64e7a34707bd":{"version":"3.3.4","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p2653","attributes":{"children":[{"type":"object","name":"Slider","id":"p2648","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p2652","attributes":{"args":{"type":"map","entries":[["source",{"type":"object","name":"ColumnDataSource","id":"p2592","attributes":{"selected":{"type":"object","name":"Selection","id":"p2593","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p2594"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"0gAAANMAAADUAAAA"},"shape":[3],"dtype":"int32","order":"little"}],["Age Group",{"type":"ndarray","array":["0-14 years:","15-64 years:","65 years and over:"],"shape":[3],"dtype":"object","order":"little"}],["Threshold",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAJEAAAAAAAAAkQAAAAAAAACRA"},"shape":[3],"dtype":"float64","order":"little"}],["Male",{"type":"ndarray","array":{"type":"bytes","data":"sLZn+TE3/OjvzET6"},"shape":[3],"dtype":"int32","order":"little"}],["Female",{"type":"ndarray","array":{"type":"bytes","data":"/p5LBuuI5hY1Uy8H"},"shape":[3],"dtype":"int32","order":"little"}]]}}}],["all_data",{"type":"object","name":"ColumnDataSource","id":"p2649","attributes":{"selected":{"type":"object","name":"Selection","id":"p2650","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p2651"},"data":{"type":"map","entries":[["Age Group",["0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:","0-14 years:","15-64 years:","65 years and over:"]],["Threshold",[1.7,1.7,1.7,2.0,2.0,2.0,2.4,2.4,2.4,2.5,2.5,2.5,2.6,2.6,2.6,2.7,2.7,2.7,2.8,2.8,2.8,2.9,2.9,2.9,3.0,3.0,3.0,3.2,3.2,3.2,3.3,3.3,3.3,3.4,3.4,3.4,3.5,3.5,3.5,3.7,3.7,3.7,3.8,3.8,3.8,3.9,3.9,3.9,4.0,4.0,4.0,4.1,4.1,4.1,4.2,4.2,4.2,4.3,4.3,4.3,4.4,4.4,4.4,4.5,4.5,4.5,4.6,4.6,4.6,4.7,4.7,4.7,4.8,4.8,4.8,4.9,4.9,4.9,5.1,5.1,5.1,5.2,5.2,5.2,5.3,5.3,5.3,5.4,5.4,5.4,5.5,5.5,5.5,5.6,5.6,5.6,5.7,5.7,5.7,5.8,5.8,5.8,6.0,6.0,6.0,6.1,6.1,6.1,6.2,6.2,6.2,6.3,6.3,6.3,6.4,6.4,6.4,6.5,6.5,6.5,6.6,6.6,6.6,6.7,6.7,6.7,6.8,6.8,6.8,6.9,6.9,6.9,7.1,7.1,7.1,7.2,7.2,7.2,7.3,7.3,7.3,7.5,7.5,7.5,7.6,7.6,7.6,7.8,7.8,7.8,7.9,7.9,7.9,8.0,8.0,8.0,8.1,8.1,8.1,8.2,8.2,8.2,8.3,8.3,8.3,8.4,8.4,8.4,8.5,8.5,8.5,8.6,8.6,8.6,8.7,8.7,8.7,8.8,8.8,8.8,8.9,8.9,8.9,9.0,9.0,9.0,9.1,9.1,9.1,9.2,9.2,9.2,9.4,9.4,9.4,9.5,9.5,9.5,9.6,9.6,9.6,9.7,9.7,9.7,9.8,9.8,9.8,9.9,9.9,9.9,10.0,10.0,10.0,10.3,10.3,10.3,10.5,10.5,10.5,10.6,10.6,10.6,10.7,10.7,10.7,10.8,10.8,10.8,10.9,10.9,10.9,11.1,11.1,11.1,11.4,11.4,11.4,11.5,11.5,11.5,11.6,11.6,11.6,11.8,11.8,11.8,12.0,12.0,12.0,12.2,12.2,12.2,12.5,12.5,12.5,12.8,12.8,12.8,12.9,12.9,12.9,13.0,13.0,13.0,15.5,15.5,15.5,18.4,18.4,18.4,18.8,18.8,18.8,21.5,21.5,21.5]],["Male",[999784527,2595737039,356032162,999783005,2595728401,356027048,999642640,2595443913,356009291,999588117,2595278956,355992543,997716890,2592361288,355802692,972388639,2533504384,349733353,971169908,2530976741,349564211,927167037,2454427920,344081578,918663795,2445697905,343731519,726404944,1937109353,299056938,726404178,1937106640,299056342,719310205,1924437068,298438294,632589176,1757866147,284513263,609768150,1724520383,282625432,602373593,1705023802,280906755,575518212,1661576714,277543931,570067194,1653094841,277037436,549322017,1628499935,275638854,515712884,1578049559,271824326,515402953,1575532038,271768620,494259053,1543499496,270125145,468937419,1485228183,262600752,467778155,1483630072,262512429,457126270,1450987254,258643647,444150479,1414706805,255296843,444140792,1414671184,255290822,442242586,1409853202,254859522,416680862,1359492486,251684117,408646183,1344550414,250487122,393960241,1306561944,247354216,385398480,1295631303,246773496,380175210,1274257484,245795617,251663290,764058036,153113450,250945296,762089021,152945617,250875029,761822482,152891036,244154046,747085331,151268121,243696027,744936860,150888748,221134824,695208548,145941226,206850401,659244135,141036693,206077121,656150852,140488467,197297028,634358896,136692017,196950462,633444688,136556629,191728009,625995744,135960153,187739666,613628777,134803978,187673506,613494758,134794237,187117449,611753231,134433761,186676769,609840428,134008815,183261841,602422358,132949574,178605503,591865883,132090399,154016631,520337591,120256167,153620324,518641114,119770244,151052342,512154835,119003378,150528170,510225685,118794942,150423220,509741598,118715045,149011885,506715816,118555317,147811164,503876692,118048781,144294598,484542862,113825102,141619158,476540227,112509507,132902368,455246436,110732184,132401219,453018829,110181511,130580231,450542543,110069574,130097799,449708542,110023339,123081628,430591810,107406729,123076202,430561965,107398258,121937083,425936420,106230369,120833076,424359318,106146938,118730471,418901502,104776660,114455348,397629628,97924328,113885909,396184990,97720172,111797171,388605429,96417925,110643536,386123983,96154385,104495276,369533587,93248062,82411104,293921540,83399087,81915217,292021358,82832724,81242544,288747157,81937148,75500417,264495535,75732816,75465547,264343608,75683986,67630073,227965422,59774955,65154551,218644526,57066901,63607567,213114353,55514457,62961907,210200297,54694435,62932033,210129942,54689688,61888653,206640689,53899874,55985529,184639544,47946546,49381453,162793168,41357839,48454996,159100595,40522834,42549872,132165706,31737962,39452287,119798534,28107382,39439645,119772297,28105195,31512897,108358643,27590048,31510931,108349978,27589467,1745,3703,318]],["Female",[940797401,2532780848,441482834,940795953,2532772290,441476517,940656654,2532400761,441453812,940605320,2532221040,441436104,938809620,2529369349,441242891,914293408,2467225028,434284976,913107252,2464669999,434089300,870891052,2391604481,427751792,862417163,2382168900,427263297,688131983,1905688823,375173398,688131286,1905686278,375172776,681066969,1893088785,374401071,597918760,1727341122,358133915,575420429,1693668189,355897088,568383778,1673570383,353671067,541962904,1629656632,349145392,536619039,1621218988,348554092,516349038,1594508152,346777233,483428637,1544375384,342023468,483125444,1543518416,341980797,462330737,1511095136,340041373,438407250,1453741612,331503060,437270749,1452151580,331397798,427164151,1420212823,326592640,415570994,1384507237,321695253,415561479,1384473759,321688771,413728780,1379699325,321176808,389248663,1330227153,316526633,381578448,1314109425,315204219,367546755,1277571463,311602972,359033113,1266151416,310863826,354021725,1252822971,310073633,241025852,771097358,202728290,240326773,769100582,202513513,240261027,768846905,202449100,233786135,753801332,200675332,233358771,751678230,200236278,211739441,699143956,193936954,198141168,663468691,187759202,197411012,660221763,186669605,188940525,638245911,181218879,188606852,637303777,181069866,183554892,629328669,180297021,179761230,616937164,178742546,179697752,616802297,178731674,179168298,615081308,178316186,178751436,613181695,177682340,175436128,605545002,176048570,170952909,595071734,174621579,147488406,519098889,151756357,147114857,517403556,151031945,144659577,511016744,150119063,144159392,509123938,149842609,144059877,508687667,149739209,142698995,505625831,149512835,141552439,502888777,148899439,138195938,484663779,143509245,135631470,476601720,141818380,126973139,455071519,139386795,126501898,452871624,138609093,124711713,450280469,138491604,124239239,449401604,138428379,117506692,429297587,135106650,117501596,429269168,135098439,116418924,424783858,133476468,115366513,423156725,133368324,113341033,417718485,131659078,109258758,395937250,122924619,108718615,394524931,122691206,106718897,386944553,120884627,105619198,384207083,120542005,99827515,367752046,116702155,78679225,290898542,103559386,78209249,289044320,102899032,77567840,285654946,101549115,72120710,261509778,93655715,72087721,261368217,93598754,64717272,225387041,73353832,62358287,216179805,70046962,60893979,210920149,68274252,60280580,208012916,67233762,60251739,207937730,67227074,59252809,204473710,66238065,53631284,182841683,59200878,47335198,161190374,50676367,46460851,157543058,49666091,40787124,131445657,38841920,37857068,119221580,34574654,37844893,119196135,34572374,30157914,108111470,33967564,30156070,108104494,33965817,1662,3664,547]]]}}}]]},"code":"\n    const data = source.data;\n    const threshold = cb_obj.value;\n                    console.log(threshold);\n    const new_data = {'Age Group': [], 'Male': [], 'Female': [], 'Threshold': []};\n\n    let closest = 1000000000\n    let closest_threshold = 10         \n    for (let i = 0; i &lt; all_data.data['Threshold'].length; i++) {\n        let diff = Math.abs(threshold-all_data.data['Threshold'][i]);\n        if(diff &lt; closest){\n            closest = diff; \n            closest_threshold = all_data.data['Threshold'][i]\n        }\n    }\n\n    for (let i = 0; i &lt; all_data.data['Threshold'].length; i++) {\n        if (all_data.data['Threshold'][i] == closest_threshold) {\n            new_data['Age Group'].push(all_data.data['Age Group'][i]);\n            new_data['Male'].push(-Math.abs(all_data.data['Male'][i])); // Ensure 'Male' values are negative\n            new_data['Female'].push(Math.abs(all_data.data['Female'][i])); // Ensure 'Female' values are positive\n            new_data['Threshold'].push(all_data.data['Threshold'][i]);\n        }\n    }\n\n    data['Age Group'] = new_data['Age Group'];\n    data['Male'] = new_data['Male'];\n    data['Female'] = new_data['Female'];\n    data['Threshold'] = new_data['Threshold'];\n\n    source.change.emit();\n"}}]]]},"title":"Threshold","start":1.7,"end":21.5,"value":10,"step":0.1}},{"type":"object","name":"Figure","id":"p2595","attributes":{"height":250,"x_range":{"type":"object","name":"Range1d","id":"p2605","attributes":{"start":-3000000000,"end":3000000000}},"y_range":{"type":"object","name":"FactorRange","id":"p2606","attributes":{"factors":["0-14 years:","15-64 years:","65 years and over:"]}},"x_scale":{"type":"object","name":"LinearScale","id":"p2607"},"y_scale":{"type":"object","name":"CategoricalScale","id":"p2608"},"title":{"type":"object","name":"Title","id":"p2598","attributes":{"text":"Population Pyramid"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p2636","attributes":{"data_source":{"id":"p2592"},"view":{"type":"object","name":"CDSView","id":"p2637","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p2638"}}},"glyph":{"type":"object","name":"HBar","id":"p2633","attributes":{"y":{"type":"field","field":"Age Group"},"height":{"type":"value","value":0.4},"right":{"type":"field","field":"Male"},"line_color":{"type":"value","value":"blue"},"fill_color":{"type":"value","value":"blue"},"hatch_color":{"type":"value","value":"blue"}}},"nonselection_glyph":{"type":"object","name":"HBar","id":"p2634","attributes":{"y":{"type":"field","field":"Age Group"},"height":{"type":"value","value":0.4},"right":{"type":"field","field":"Male"},"line_color":{"type":"value","value":"blue"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"blue"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"blue"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"HBar","id":"p2635","attributes":{"y":{"type":"field","field":"Age Group"},"height":{"type":"value","value":0.4},"right":{"type":"field","field":"Male"},"line_color":{"type":"value","value":"blue"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"blue"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"blue"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p2645","attributes":{"data_source":{"id":"p2592"},"view":{"type":"object","name":"CDSView","id":"p2646","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p2647"}}},"glyph":{"type":"object","name":"HBar","id":"p2642","attributes":{"y":{"type":"field","field":"Age Group"},"height":{"type":"value","value":0.4},"right":{"type":"field","field":"Female"},"line_color":{"type":"value","value":"pink"},"fill_color":{"type":"value","value":"pink"},"hatch_color":{"type":"value","value":"pink"}}},"nonselection_glyph":{"type":"object","name":"HBar","id":"p2643","attributes":{"y":{"type":"field","field":"Age Group"},"height":{"type":"value","value":0.4},"right":{"type":"field","field":"Female"},"line_color":{"type":"value","value":"pink"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"pink"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"pink"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"HBar","id":"p2644","attributes":{"y":{"type":"field","field":"Age Group"},"height":{"type":"value","value":0.4},"right":{"type":"field","field":"Female"},"line_color":{"type":"value","value":"pink"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"pink"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"pink"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p2604","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p2619"},{"type":"object","name":"WheelZoomTool","id":"p2620","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p2621","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p2622","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p2627"},{"type":"object","name":"ResetTool","id":"p2628"},{"type":"object","name":"HelpTool","id":"p2629"}]}},"toolbar_location":null,"left":[{"type":"object","name":"CategoricalAxis","id":"p2614","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p2615"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p2616"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p2617"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p2609","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p2610","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p2611"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p2612"}}}],"center":[{"type":"object","name":"Grid","id":"p2613","attributes":{"axis":{"id":"p2609"}}},{"type":"object","name":"Grid","id":"p2618","attributes":{"dimension":1,"axis":{"id":"p2614"}}}]}}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('p2658').textContent;
              const render_items = [{"docid":"1291b690-94fc-409b-84fe-64e7a34707bd","roots":{"p2653":"d01bd4ce-7623-44bd-b894-91d5d3236db7"},"root_ids":["p2653"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>